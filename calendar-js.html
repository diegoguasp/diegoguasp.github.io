<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
        // Inicializa EmailJS (regístrate en https://www.emailjs.com/ y coloca tus datos)
        emailjs.init("TU_USER_ID_EMAILJS"); // Reemplaza por tu userID de EmailJS
    
        document.addEventListener('DOMContentLoaded', function() {
            // Establece la fecha mínima del calendario como hoy
            var today = new Date().toISOString().split('T')[0];
            document.getElementById('cal-date').setAttribute('min', today);
    
            // Mostrar modal al hacer click en "Agendar asesoria"
            document.querySelectorAll('a[href="#services"]').forEach(function(link){
                link.addEventListener('click', function(e){
                    e.preventDefault();
                    document.getElementById('calendarModal').style.display = 'block';
                });
            });
    
            // Cerrar modal
            document.getElementById('closeCalendar').onclick = function(){
                document.getElementById('calendarModal').style.display = 'none';
            };
    
            // Enviar formulario del calendario
            document.getElementById('calendarForm').onsubmit = function(e){
                e.preventDefault();
                emailjs.sendForm('TU_SERVICE_ID', 'TU_TEMPLATE_ID', this)
                    .then(function() {
                        alert('¡Solicitud enviada! Te contactaré pronto para confirmar la asesoría legal.');
                        document.getElementById('calendarModal').style.display = 'none';
                        document.getElementById('calendarForm').reset();
                    }, function(error) {
                        alert('Error al enviar. Prueba más tarde.');
                    });
            };
        });
    </script>
